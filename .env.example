API_PORT=9000
DATABASE_URL=postgresql://postgres:postgres@localhost:5444/dealdecision
REDIS_URL=redis://localhost:6379
VITE_API_BASE_URL=http://localhost:9000
VITE_BACKEND_MODE=live

# LLM Configuration (Week 1: OpenAI GPT-4o Phase)
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_API_URL=https://api.openai.com/v1

# LLM Routing Configuration (optional, uses defaults if not set)
# LLM_ROUTING_FACT_EXTRACTION_MODEL=gpt-4o
# LLM_ROUTING_SYNTHESIS_MODEL=gpt-4o
# LLM_ROUTING_VALIDATION_MODEL=gpt-4o

# Cache Configuration
LLM_CACHE_ENABLED=true
LLM_CACHE_TTL_DAYS=7
LLM_CACHE_MAX_SIZE=10000

# Context Compression
LLM_COMPRESSION_ENABLED=true
LLM_COMPRESSION_AGGRESSIVE=false

# Analytics
LLM_ANALYTICS_ENABLED=true
LLM_ANALYTICS_TRACK_COSTS=true
LLM_ANALYTICS_TRACK_LATENCY=true

# Visual extraction (optional)
# When enabled, the worker will also persist per-page rendered PNGs to a stable directory
# so the vision pipeline can reliably find images.
ENABLE_VISUAL_EXTRACTION=0
# Local (outside Docker): http://localhost:8000
# Docker Compose: http://vision_worker:8000
VISION_WORKER_URL=http://vision_worker:8000
VISION_EXTRACTOR_VERSION=vision_v1
VISION_TIMEOUT_MS=8000
VISION_MAX_PAGES=10

# Storage
# Local (outside Docker): ./uploads
# Docker Compose: /app/uploads (mounted shared volume)
UPLOAD_DIR=./uploads

# Persist rendered page images (Step 6)
# Defaults: VISUAL_PAGE_IMAGE_PERSIST inherits ENABLE_VISUAL_EXTRACTION, MAX_PAGES=50, FORMAT=png, DPI=200
VISUAL_PAGE_IMAGE_PERSIST=1
VISUAL_PAGE_IMAGE_MAX_PAGES=50
VISUAL_PAGE_IMAGE_FORMAT=png
VISUAL_PAGE_IMAGE_DPI=200
